# Buffer结构
主要用于操作字节
javascript和C++ 结合的模块，javascript负责非性能相关的部分，C++负责性能相关的部分
[](./structure.jpeg)
- 用法
  直接使用，无须require(), node在进程启动时就已经加载了Buffer，并将其放到全局对象上
## Buffer对象
  类数组对象，元素为16进制的两位数-> 0-256的数值
  初始化对象后，它的元素值时0-256的一个随机值，我们也可以像数值赋值一样给它赋值

  :::tip
  给元素的赋值如果小于0，就将该值逐次加256，直到得到一个0到255之间的整数。如果得到的数值大于255，就逐次减256，直到得到0~255区间内的数值。如果是小数，舍弃小数部分，只保留整数部分。
  :::
  ```javascript
    buf[19] = 100;
    console.log(buf[19]); // 100
    buf[20] = -100;
    console.log(buf[20]); // 156
    buf[21] = 300;
    console.log(buf[21]); // 44
    buf[22] = 3.1415;
    console.log(buf[22]); // 3
  ```

## Buffer内存分配
Node在内存的使用上应用的是在C++层面申请内存、在JavaScript中分配内存的策略。
为了高效的使用申请来的内存，Node采用slab分配机制
slab分配机制
